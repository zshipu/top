<!DOCTYPE html>
<html lang="en">

<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
	
	<!-- title -->
	
	<title>
	
		Web技术：Web个人站点加载极速优化 | 
	 
	知识铺
	</title>
	
	<!-- keywords,description -->
	
		<meta name="keywords" content="知识铺" />
	 
		<meta name="description" content="知识铺" />
	

	<!-- favicon -->
	
	<link rel="shortcut icon" href="/favicon.ico">
	
  

	
<link rel="stylesheet" href="/css/main.css">

	
<link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css">

	
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/styles/darcula.min.css">


	
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/highlight.min.js"></script>

	
<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>

	
<script src="https://cdn.jsdelivr.net/npm/jquery-pjax@2.0.1/jquery.pjax.min.js"></script>

	
<script src="/js/main.js"></script>

	
		
<script src="https://cdn.jsdelivr.net/npm/leancloud-storage/dist/av-min.js"></script>

		
<script src="https://cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js"></script>

	
	
		<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
	
<meta name="generator" content="Hexo 5.2.0"></head>

<body>
	<header id="header">
    <a id="title" href="/" class="logo">知识铺</a>

	<ul id="menu">
		<li class="menu-item">
			<a href="https://blog.zshipu.com"  target="_blank" class="menu-item-link" >博客</a>
		</li>
		<li class="menu-item">
			<a href="/topSegmentfault"  target="_blank" class="menu-item-link" >Segmentfault</a>
		</li>
		<li class="menu-item">
			<a href="/topopencn"  target="_blank" class="menu-item-link" >开源中国</a>
		</li>
		<li class="menu-item">
			<a href="/topcsdn"  target="_blank" class="menu-item-link" >CSDN</a>
		</li>
		<li class="menu-item">
			<a href="/topjuejin"  target="_blank" class="menu-item-link" >掘金</a>
		</li>
		<li class="menu-item">
			<a href="/toplinuxcn"  target="_blank" class="menu-item-link" >Linux中国</a>
		</li>
		<li class="menu-item">
			<a href="/topgoforum"  target="_blank" class="menu-item-link" >go语言中文网</a>
		</li>
		<li class="menu-item">
			<a href="/about"  target="_blank" class="menu-item-link" >ABOUT</a>
		</li>
	</ul>
</header>

	
<div id="sidebar">
	<button id="sidebar-toggle" class="toggle" ><i class="fa fa-arrow-right " aria-hidden="true"></i></button>
	
	<div id="site-toc">
		<input id="search-input" class="search-input" type="text" placeholder="search...">
		<div id="tree">
			

			
							<ul>
								<li class="file">
									<a href="/2020/09/19/2020%E5%B9%B49%E6%9C%88%E6%9C%9F%E5%88%8A%EF%BC%9A%E7%A7%91%E6%8A%80%E8%A6%81%E9%97%BB/">
										2020年9月期刊：科技要闻
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2020/09/20/CSS%E7%B3%BB%E5%88%97%EF%BC%9ACSS%E6%B8%90%E5%8F%98%E8%89%B2/">
										CSS系列：CSS渐变色
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2020/09/20/Github%20%E7%B3%BB%E5%88%97%EF%BC%9A%E5%9C%A8%20GitHub%20%E4%B8%8A%E8%8E%B7%E5%8F%96%20100%20%E9%A2%97%E6%98%9F%E7%9A%84%208%20%E4%B8%AA%E6%AD%A5%E9%AA%A4/">
										Github 系列：在 GitHub 上获取 100 颗星的 8 个步骤
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2020/09/20/Golang%202020%E5%B9%B49%E6%9C%88%E7%AC%AC%E4%B8%89%E5%91%A8%E7%83%AD%E7%82%B9%E6%96%87%E7%AB%A0/">
										Golang 2020年9月第三周热点文章
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2020/09/20/Golang%20%E7%83%AD%E7%82%B9%E6%8A%80%E6%9C%AF%EF%BC%9A2020-09-20%E6%9C%9F/">
										Golang 热点技术：2020-09-20期
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2020/09/20/Java%20%E7%83%AD%E7%82%B9%E6%96%87%E7%AB%A0%202020%E5%B9%B49%E6%9C%88%E7%AC%AC%E4%B8%89%E5%91%A8/">
										Java 热点文章 2020年9月第三周
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file active">
									<a href="/2020/09/20/Web%E6%8A%80%E6%9C%AF%EF%BC%9AWeb%E4%B8%AA%E4%BA%BA%E7%AB%99%E7%82%B9%E5%8A%A0%E8%BD%BD%E6%9E%81%E9%80%9F%E4%BC%98%E5%8C%96/">
										Web技术：Web个人站点加载极速优化
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2020/09/19/hexo%20%E9%BB%91%E7%A7%91%E6%8A%80%EF%BC%9Ago%E8%B0%83%E7%94%A8%E5%91%BD%E4%BB%A4%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90/">
										hexo 黑科技：go调用命令自动生成
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
		</div>
	</div>
</div>

	<!-- 引入正文 -->
	<div id="content">
		<h1 id="article-title">

	Web技术：Web个人站点加载极速优化
</h1>
<div class="article-meta">
	
	<span>知识铺</span>
	<span>2020-09-20 18:33:51</span>
    
		<div id="article-categories">
            
		</div>
    
</div>

<div id="article-content">
	<p> 我这个周末的项目是加快我的个人<a target="_blank" rel="noopener" href="https://zshipu.com/t?url=https://alvinlim.me/">网站</a>。我决定在谷歌灯塔上成绩不及格后，就<a target="_blank" rel="noopener" href="https://zshipu.com/t?url=https://developers.google.com/web/tools/lighthouse">决定为此工作</a>。经过一系列急需的优化后，网站现在加载速度明显加快，其灯塔分数也大为提高：</p>
<p>我现在将分享我实现的关键优化，加速了我的网站：</p>
<p><strong>优化图像</strong></p>
<p>我网站的早期版本有一个3MBJPEG文件，我用作完整的背景图像。我想保持相同的外观，这意味着我不得不用比JPEG更好的压缩格式替换这个图像。我考虑过新的<a target="_blank" rel="noopener" href="https://zshipu.com/t?url=https://jakearchibald.com/2020/avif-has-landed/">AVIF 格式</a>， 但不幸的是， 它目前没有很好地支持：</p>
<p><a target="_blank" rel="noopener" href="https://zshipu.com/t?url=https://res.cloudinary.com/practicaldev/image/fetch/s--AyBpPjOt--/c_limit,f_auto,fl_progressive,q_auto,w_880/https://dev-to-uploads.s3.amazonaws.com/i/fb7ugi60nurfu3mjmagy.png"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--AyBpPjOt--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/fb7ugi60nurfu3mjmagy.png" alt="Alt Text"></a></p>
<p>因此，我选择将现有的 JPEG 和 PNG 图像替换为 WebP 图像，因为 WebP 格式更受支持：</p>
<p><a target="_blank" rel="noopener" href="https://zshipu.com/t?url=https://res.cloudinary.com/practicaldev/image/fetch/s--RPIR1w2l--/c_limit,f_auto,fl_progressive,q_auto,w_880/https://dev-to-uploads.s3.amazonaws.com/i/6l4updzlspftobfd1lkn.png"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--RPIR1w2l--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/6l4updzlspftobfd1lkn.png" alt="Alt Text"></a></p>
<p>除了更改图像格式，我还确保在我的网站中使用的图像是完全相同的尺寸，因为他们将在屏幕上显示。</p>
<p>例如，我以前使用的肖像图像的尺寸比网站上显示的 200x200 小圆形图像大得多。这不仅意味着宝贵的毫秒将被浪费下载这个不必要的大文件，浏览器也会浪费时间调整图像的大小。通过部署正确尺寸的图像，将保存毫秒。</p>
<p><strong>删除不必要的 JavaScript</strong></p>
<p>除了需要优化我的图像，灯塔还表示，我可以通过删除不必要的JavaScript脚本进一步优化我的网站。我有3个JS脚本在我的网站上运行 - 一个虚拟选项卡生成器;谷歌分析脚本;和谷歌 Recaptcha 脚本。</p>
<p>我决定保持虚拟选项卡生成器，因为我喜欢它如何增强我的网站。我决定删除谷歌分析脚本，因为我意识到，我不需要它，因为我没有使用我的个人网站的功能，如电子商务。</p>
<p>我同样选择从我的 FormSpree 联系人表单中删除<a target="_blank" rel="noopener" href="https://zshipu.com/t?url=https://formspree.io/">Google ReCaptcha 脚本</a>，并调整了表单的设置，以使用在 FormSpree 上托管的 ReCaptcha 功能。删除这些第三方 JavaScript 脚本可显著缩短浏览器加载和呈现网站的时间。</p>
<p><strong>转储 CDN</strong></p>
<p>在优化之前，我的网站使用3个CDN-<a target="_blank" rel="noopener" href="https://zshipu.com/t?url=https://fonts.google.com/">谷歌字体</a><a target="_blank" rel="noopener" href="https://zshipu.com/t?url=https://fontawesome.com/">，字体真棒</a>，<a target="_blank" rel="noopener" href="https://zshipu.com/t?url=https://getbootstrap.com/">和引导</a>。用本地托管资产替换这些资产可显著节省时间。</p>
<p><em>谷歌字体</em></p>
<p><font _mstmutation="1" _msthash="292409" _msttexthash="1395929301">为了取代使用谷歌字体CDN，我下载了我需要的字体，并使用<a target="_blank" rel="noopener" href="https://zshipu.com/t?url=https://www.fontsquirrel.com/tools/webfont-generator">字体松鼠</a>将它们转换为网络字体。然后，我移动 woff2 字体文件到我在网站项目目录中创建的文件夹，并在我的 CSS 文件中声明它们。</font><code>fonts</code></p>
<p><font _mstmutation="1" _msthash="292708" _msttexthash="562255018">例如，我在我的网站中使用的谷歌字体之一<a target="_blank" rel="noopener" href="https://zshipu.com/t?url=https://fonts.google.com/specimen/Righteous?query=righteous">是正义。</a>我通过声明您的面部（包括位置）@font将它导入到 CSS 文件中：</font></p>
<p> <code>@font-face &#123;<br>  font-family: "Righteous";<br>  src: url(fonts/righteous-regular-webfont.woff2);<br>  font-display: swap;<br>&#125;</code> </p>
<p><font _mstmutation="1" _msthash="290602" _msttexthash="174315843">并在相应的 CSS 组件中使用，在这种情况下，横幅：</font></p>
<p> <code>.banner h1 &#123;<br>  ...<br>  font-family: "Righteous", cursive;<br>  ...<br>&#125;</code> </p>
<p><em>字体真棒</em></p>
<p>在优化之前，我的网站依靠<a target="_blank" rel="noopener" href="https://zshipu.com/t?url=https://fontawesome.com/">字体真棒</a>，以获得LinkedIn，谷歌和GitHub图标在页脚使用。为了优化这一点，我<a target="_blank" rel="noopener" href="https://zshipu.com/t?url=http://fontastic.me/">切换到Fonastic，</a>它允许我下载这些图标作为一个单一的字体文件，我可以在本地托管。（当您下载此字体文件时，Fontastic 将为您提供适当的 CSS 和 HTML 代码段，以插入代码以显示图标。</p>
<p><em>引导</em></p>
<p>我以前在我的网站上包括了 Bootstrap 来调整其布局，但我决定，这个好处并没有证明成本用于从其 CDN 下载 Bootstrap 和在浏览器中呈现 Bootstrap 类的时间。删除引导后，我发现我只需要花一点时间来调整HTML和CSS，以获得我想要的外观。</p>
<p><strong>速度更快的网站</strong></p>
<p>这些优化早就应该了，除了我的网站从灯塔获得的分数更高，好处可以在一个明显更快的网站感受到。我还测试了我的网站在HubSpot<a target="_blank" rel="noopener" href="https://zshipu.com/t?url=https://website.grader.com/">的网站分级</a>器，这给它一个更高的成绩比它收到的优化之前：</p>
<p><a target="_blank" rel="noopener" href="https://zshipu.com/t?url=https://res.cloudinary.com/practicaldev/image/fetch/s--KDqx3LtN--/c_limit,f_auto,fl_progressive,q_auto,w_880/https://dev-to-uploads.s3.amazonaws.com/i/55n16ne96duo7f4sug8a.jpg"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--KDqx3LtN--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/55n16ne96duo7f4sug8a.jpg" alt="Alt Text"></a></p>

</div>


    <div class="post-guide">
        <div class="item left">
            
              <a href="/2020/09/20/Github%20%E7%B3%BB%E5%88%97%EF%BC%9A%E5%9C%A8%20GitHub%20%E4%B8%8A%E8%8E%B7%E5%8F%96%20100%20%E9%A2%97%E6%98%9F%E7%9A%84%208%20%E4%B8%AA%E6%AD%A5%E9%AA%A4/">
                  <i class="fa fa-angle-left" aria-hidden="true"></i>
                  Github 系列：在 GitHub 上获取 100 颗星的 8 个步骤
              </a>
            
        </div>
        <div class="item right">
            
              <a href="/2020/09/20/Golang%202020%E5%B9%B49%E6%9C%88%E7%AC%AC%E4%B8%89%E5%91%A8%E7%83%AD%E7%82%B9%E6%96%87%E7%AB%A0/">
                Golang 2020年9月第三周热点文章
                <i class="fa fa-angle-right" aria-hidden="true"></i>
              </a>
            
        </div>
    </div>



	<div id="vcomments"></div>


<script>
	
		// 评论
		new Valine({
			av: AV,
			el: '#vcomments',
			notify: false,
			verify: false,
			path: window.location.pathname,
			appId: '',
			appKey: '',
			placeholder: '请输入评论',
			avatar: 'retro',
			recordIP: false
		})
	
	
</script>
	</div>
	<div id="footer">
	<p>
	©2019-<span id="footerYear"></span> 
	<a href="/">知识铺</a> 
	
	
		|
		<span id="busuanzi_container_site_pv">
			pv
			<span id="busuanzi_value_site_pv"></span>
		</span>
		|
		<span id="busuanzi_container_site_uv"> 
			uv
			<span id="busuanzi_value_site_uv"></span>
		</span>
	
	<br>
	Theme <a href="//github.com/wujun234/hexo-theme-tree" target="_blank">Tree</a>
	by <a href="//github.com/wujun234" target="_blank">WuJun</a>
	Powered by <a href="//hexo.io" target="_blank">Hexo</a>
	</p>
</div>
<script type="text/javascript"> 
	document.getElementById('footerYear').innerHTML = new Date().getFullYear() + '';
</script>
	<button id="totop-toggle" class="toggle"><i class="fa fa-angle-double-up" aria-hidden="true"></i></button>
</body>
</html>